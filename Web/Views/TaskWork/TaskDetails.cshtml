@model Web.Models.TaskWorkModel.TaskViewModel;

@{
    ViewData["Title"] = "Task Details";
}

<h1>Task Details</h1>

<table class="table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Status</th>
            <th>Assigned User</th>
            <th>Images</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>@Model.Name</td>
            <td>@Model.Description</td>
            <td>@Model.Status</td>
            <td>@Model.AssignedUserName</td>
            <td>
                <a asp-action="ViewImages" asp-route-taskId="@Model.Id" class="btn btn-primary">View Images</a>
            </td>
        </tr>
    </tbody>
</table>

<div class="text-end mt-3">

    <a asp-action="EditTaskWork" asp-route-id="@Model.Id" class="btn btn-primary">Edit</a>
    @if (Context.Session.GetString("UserRole")?.ToString() == "5c200f10-64fc-48bb-a0a8-8f6008a124fa" || Context.Session.GetString("UserRole")?.ToString() == "26407a59-8b7f-4c0f-a534-edb962195abe")
    {
        <form asp-action="Delete" method="post" class="d-inline">
            <input type="hidden" asp-for="Id" />
            <button type="submit" class="btn btn-danger">Delete</button>
        </form>
        <a asp-action="Details" asp-controller="Sprint" asp-route-id="@Model.SprintId" class="btn btn-secondary">Back to Sprint</a>
    }
    <a asp-action="MySprints" asp-controller="User"s asp-route-id="@Model.SprintId" class="btn btn-secondary">Back to Sprints</a>
</div>